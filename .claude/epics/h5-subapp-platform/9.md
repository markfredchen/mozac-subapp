---
updated: 2025-09-20T05:44:32Z
github: https://github.com/markfredchen/mozac-subapp/issues/9
name: Sub-App Template and Boilerplate
epic: h5-subapp-platform
status: backlog
created: 2025-09-20T03:51:05Z
depends_on: [001, 004]
parallel: false
conflicts_with: []
size: L
estimated_hours: 20
assignee: unassigned
priority: high
tags: [template, boilerplate, react, typescript, mobile]
---
updated: 2025-09-20T05:44:32Z
github: https://github.com/markfredchen/mozac-subapp/issues/9

# Task 005: Sub-App Template and Boilerplate

## Overview

Create a standardized React + TypeScript template with optimal mobile configurations for rapid sub-app development. This template will include state management with Zustand, routing, and integration with the shared component library.

## Technical Requirements

### Template Structure
- React 18 with TypeScript 5+ configuration
- Vite-based build system with mobile optimizations
- ESLint and Prettier configuration for code quality
- Pre-configured testing setup (Jest + React Testing Library)
- Mobile-optimized Webpack/Vite settings

### State Management
- Zustand integration for lightweight state management
- Pre-configured stores for common patterns (user, app state, cache)
- State persistence utilities for mobile WebView environments
- Type-safe store definitions with TypeScript

### Routing and Navigation
- React Router setup with hash-based routing (WebView compatible)
- Route-based code splitting configuration
- Navigation guards and route protection utilities
- Mobile-friendly navigation patterns

### Mobile Optimizations
- Viewport configuration for mobile devices
- Touch-friendly component defaults
- Performance optimizations (lazy loading, code splitting)
- WebView compatibility configurations
- Offline support foundations

## Dependencies

**Depends On:**
- [001] Monorepo Setup and Configuration
- [004] Shared Component Library Foundation

**External Dependencies:**
- React 18+
- TypeScript 5+
- Vite
- React Router v6
- Zustand
- Testing libraries

## Acceptance Criteria

### Template Structure
- [ ] Complete React + TypeScript project template
- [ ] Vite configuration with mobile-specific optimizations
- [ ] ESLint and Prettier configs with team standards
- [ ] Pre-configured testing environment
- [ ] Package.json with all necessary dependencies

### State Management Setup
- [ ] Zustand store configuration and examples
- [ ] Type-safe store patterns and utilities
- [ ] State persistence for mobile WebView
- [ ] Common store patterns (auth, settings, data)
- [ ] DevTools integration for development

### Routing Configuration
- [ ] React Router setup with hash-based routing
- [ ] Route-based code splitting implementation
- [ ] Navigation components using shared UI library
- [ ] Route guards and authentication patterns
- [ ] 404 and error boundary handling

### Mobile Optimizations
- [ ] Viewport meta tag and mobile CSS resets
- [ ] Touch-friendly interaction defaults
- [ ] Performance budgets and optimization configs
- [ ] WebView compatibility testing
- [ ] Service worker foundation for offline support

### Development Experience
- [ ] Hot module replacement (HMR) working correctly
- [ ] TypeScript strict mode enabled
- [ ] Automated testing on template generation
- [ ] Clear documentation and getting started guide
- [ ] Template validation and health checks

## Technical Approach

### Directory Structure
```
templates/sub-app-template/
├── public/
│   ├── index.html
│   └── manifest.json
├── src/
│   ├── components/
│   ├── pages/
│   ├── stores/
│   ├── utils/
│   ├── types/
│   ├── App.tsx
│   └── main.tsx
├── tests/
├── docs/
├── .eslintrc.js
├── .prettierrc
├── tsconfig.json
├── vite.config.ts
└── package.json
```

### State Management Pattern
- Zustand stores with TypeScript interfaces
- Separate stores for different concerns (user, app, cache)
- State persistence utilities for mobile environments
- Easy integration with React components

### Mobile-First Configuration
- Vite config optimized for mobile bundle sizes
- CSS preprocessing with mobile-first approach
- Touch event handling utilities
- WebView compatibility layers

### Testing Foundation
- Jest and React Testing Library setup
- Component testing examples
- Store testing utilities
- E2E testing foundation with Playwright

## Risk Mitigation

**Framework Version Compatibility**
- Pin React and core dependency versions for stability
- Regular testing against framework updates
- Migration guides for breaking changes

**Mobile WebView Compatibility**
- Testing across different WebView implementations
- Polyfills for missing mobile features
- Fallback strategies for unsupported APIs

**Template Maintenance**
- Automated dependency updates with testing
- Template validation in CI/CD pipeline
- Documentation updates with template changes

## Definition of Done

- [ ] Complete template generates working sub-app
- [ ] All mobile optimizations implemented and tested
- [ ] State management patterns documented and working
- [ ] Routing configuration tested in WebView environment
- [ ] Template validation passes all quality checks
- [ ] Documentation complete with examples
- [ ] Integration tested with shared component library
- [ ] Performance benchmarks met (< 1.5MB initial bundle)

## Estimated Effort Breakdown

- Template structure and configuration: 8 hours
- State management integration: 4 hours
- Routing and navigation setup: 3 hours
- Mobile optimizations and testing: 3 hours
- Documentation and examples: 2 hours

**Total: 20 hours**
